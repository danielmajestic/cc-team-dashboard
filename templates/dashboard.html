{% extends "base.html" %}
{% block title %}Dashboard â€” CC Team Dashboard{% endblock %}
{% block content %}
<div class="dashboard-header">
    <h1>Dashboard</h1>
    <div class="heartbeat-toggle" id="heartbeat-toggle" {% if is_admin %}data-admin-mode="true"{% endif %}>
        <span class="heartbeat-label">Heartbeat</span>
        {% if is_admin %}
        <button class="toggle-btn" id="toggle-btn" title="Toggle heartbeat service">
            <span class="toggle-indicator"></span>
        </button>
        {% else %}
        <span class="toggle-btn toggle-frozen" id="toggle-display" title="Admin access required to toggle">
            <span class="toggle-indicator"></span>
        </span>
        {% endif %}
        <span class="heartbeat-status-badge" id="heartbeat-badge">...</span>
        {% if not is_admin %}<span class="hb-lock">&#x1F512;</span>{% endif %}
    </div>
</div>

<section class="agent-summary">
    <h2>Agent Status</h2>
    <div class="status-filter" id="dashboard-status-filter">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="online">Online</button>
        <button class="filter-btn" data-filter="busy">Busy</button>
        <button class="filter-btn" data-filter="offline">Offline</button>
    </div>
    <div class="agent-cards" id="agent-cards">
        <p class="loading-msg">Loading agents...</p>
    </div>
</section>

<section class="activity-section">
    <h2>Recent Activity</h2>
    <div class="activity-feed" id="activity-feed">
        <p class="loading-msg">Loading activity...</p>
    </div>
</section>
{% endblock %}
